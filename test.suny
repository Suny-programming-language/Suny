function foo() do
    count = 0

    return function() do
        count = count + 1
        return count
    end
end

a = foo()
n = 0
while n < 10 do
    n = a()
    print(n)
end
